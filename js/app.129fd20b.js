(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],h=0,f=[];h<s.length;h++)r=s[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/weather-app-vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"42c6":function(t,e,i){"use strict";var n=i("ffa8"),a=i.n(n);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"allApp",class:{"add-height":"MainPage"!==t.whichComponent}},[t.infoForAlert?i("Alert",{attrs:{info:t.infoForAlert,which:t.whichAlert}},[t._v(t._s(t.infoForAlert))]):t._e(),i(t.whichComponent,{tag:"component"})],1)},o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-8 col-md-6 col-lg-4 col-xl-3 container",attrs:{elevation:"18",align:"center"}},[i("header",{staticClass:"font-weight-bold",attrs:{cols:"12",sm:"6",md:"3",align:"center"}},[t._v(" Rejestracja ")]),t.infoForAlert?i("Alert",{attrs:{info:t.infoForAlert,which:t.whichAlert}},[t._v(t._s(t.infoForAlert))]):t._e(),i("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("v-card-text",{staticClass:"pa-0"},[i("div",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-text-field",{staticClass:"my-2",attrs:{outlined:"",required:"",color:"primary",type:"email",placeholder:"email",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),i("div",{staticClass:"row-sm"},[i("v-text-field",{attrs:{type:"password",outlined:"",required:"",placeholder:"Hasło",rules:[t.rules.required]},model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}})],1),i("div",{staticClass:"row-sm"},[i("v-text-field",{attrs:{outlined:"",type:"password",required:"",color:"primary",placeholder:"Powtórz hasło",rules:[t.rules.required,t.rules.identical(t.password1,t.password2)]},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1),i("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Zarejestruj się")]),i("div",[i("button",{staticClass:"login",on:{click:t.changeToLogin}},[t._v("Zaloguj się")])])])],1)],1)},s=[],c=(i("96cf"),i("1da1")),l=i("8aa5"),u=i.n(l),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"alert"},[i("header",{class:t.addClass},[t._v(t._s(t.which))]),i("p",[t._t("default")],2)])},f=[],d={props:["info","which"],computed:{addClass:function(){return"Information"===this.which?"info":"OK"===this.which?"ok":"Error"===this.which?"error":0}}},p=d,m=(i("928a"),i("2877")),g=Object(m["a"])(p,h,f,!1,null,"28ad1a7c",null),y=g.exports,w={components:{Alert:y},watch:{infoForAlert:function(){var t=this;setTimeout((function(){t.infoForAlert=!1}),1e4)}},inject:["changeTabs"],methods:{changeToLogin:function(){this.changeTabs("Login")},onSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{u.a.auth().createUserWithEmailAndPassword(t.email,t.password1).then((function(e){console.log(e),t.infoForAlert="User is signed in",t.whichAlert="OK"})).catch((function(e){t.infoForAlert=e.message,t.whichAlert="Error"}))}catch(i){}case 1:case"end":return e.stop()}}),e)})))()}},data:function(){return{email:"",infoForAlert:"",whichAlert:"",password2:"",password1:"",rules:{required:function(t){return!!t||"Pole wymagane"},identical:function(t,e){return t===e||"Hasła nie są identyczne"},counter:function(t,e,i){return t.length>=e||"Minimum "+e+" znak"+i},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Adres e-mail nie jest poprawny"}}}}},v=w,b=(i("b028"),i("6544")),x=i.n(b),C=i("99d9"),A=i("8654"),_=Object(m["a"])(v,r,s,!1,null,"0b275fd4",null),j=_.exports;x()(_,{VCardText:C["a"],VTextField:A["a"]});var F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" col-8 col-md-6 col-lg-4 col-xl-3 container",attrs:{elevation:"18",align:"center"}},[i("header",{staticClass:"font-weight-bold",attrs:{cols:"12",sm:"6",md:"3",align:"center"}},[t._v(" Zaloguj się ")]),t.infoForAlert?i("Alert",{attrs:{info:t.infoForAlert,which:t.whichAlert}},[t._v(t._s(t.infoForAlert))]):t._e(),i("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("v-card-text",{staticClass:"pa-0"},[i("div",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-text-field",{staticClass:"my-2",attrs:{outlined:"",required:"",color:"primary",type:"email",placeholder:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),i("div",{staticClass:"row-sm"},[i("v-text-field",{attrs:{type:"password",outlined:"",required:"",placeholder:"Hasło"},model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}})],1),i("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Zaloguj się")]),i("div",[i("button",{staticClass:"login",on:{click:t.changeToRegister}},[t._v(" Zarejestruj się! ")])])])],1)],1)},k=[],O={components:{Alert:y},inject:["changeTabs"],data:function(){return{email:"",password1:"",infoForAlert:"",whichAlert:""}},watch:{infoForAlert:function(){var t=this;setTimeout((function(){t.infoForAlert=!1}),1e4)}},methods:{changeToRegister:function(){this.changeTabs("Register")},onSubmit:function(){var t=this;u.a.auth().signInWithEmailAndPassword(this.email,this.password1).then((function(e){console.log(e),t.changeTabs("MainPage"),t.infoForAlert="Logging in complete",t.whichAlert="OK"})).catch((function(e){t.infoForAlert=e,t.whichAlert="Error"}))}}},T=O,E=(i("d475"),Object(m["a"])(T,F,k,!1,null,"1a4d98d0",null)),P=E.exports;x()(E,{VCardText:C["a"],VTextField:A["a"]});var S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app"},[i("div",{staticClass:"nav-top text-center"},[i("button",{staticClass:"logout col-8 col-md-6 col-lg-4 col-xl-3 text-center",on:{click:t.logOut}},[t._v(" Wyloguj ")]),t.infoForAlert?i("Alert",{attrs:{info:t.infoForAlert,which:t.whichAlert}},[t._v(t._s(t.infoForAlert))]):t._e()],1),i("section",{staticClass:"col-xs-11 col-sm-10 col-lg-8 mt-3  mx-auto pb-2 mb-3 "},[i("div",{staticClass:"charts col-xs-11 col-sm-10 col-lg-8 mx-2 "},[t.isClicked?i("Chart",{attrs:{title:t.whichCityClicked,info:t.infoOneCity,type:"Temperatura"}}):t._e(),t.isClicked?i("Chart",{attrs:{title:t.whichCityClicked,type:"Wilgotność",info:t.infoOneCity}}):t._e()],1),i("div",{staticClass:"cities d-sm-none d-md-block col-lg-4 mx-sm-0 px-sm-0 mx-lg-2 px-sm-2 "},[t.show?i("DialogComponent",{on:{btnCancelCity:t.showAddCity,btnAddCity:t.addCity}}):t._e(),i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.showAddCity}},[i("span",[t._v("Dodaj miasto")])]),t._l(t.cities,(function(e){return i("Cities",{key:e.id,attrs:{temp:e.temp,city:e.city,desc:e.desc,icon:e.icon},on:{tapCity:t.onSelectCity}})}))],2)])])},z=[],q=(i("a4d3"),i("e01a"),i("4160"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"pa-0 chart",attrs:{cols:"12"}},[i("VueApexCharts",{staticClass:"my-auto",attrs:{id:"chart",align:"center",width:"550",type:t.getType,options:t.options,series:t.series}})],1)],1)}),M=[],R=i("1321"),$=i.n(R),D={components:{VueApexCharts:$.a},computed:{getType:function(){return"Wilgotność"===this.type?"bar":"line"}},watch:{info:function(){this.options={title:{text:this.type+" dla "+this.title},yaxis:{title:{text:"[m³]"}},xaxis:{}},"Wilgotność"===this.type?this.series=[{data:[{x:this.info[0].dt_txt.substring(5,16),y:this.info[1].main.humidity},{y:this.info[1].main.humidity,x:this.info[1].dt_txt.substring(5,16)},{y:this.info[2].main.humidity,x:this.info[2].dt_txt.substring(5,16)},{y:this.info[3].main.humidity,x:this.info[3].dt_txt.substring(5,16)},{y:this.info[4].main.humidity,x:this.info[4].dt_txt.substring(5,16)},{y:this.info[5].main.humidity,x:this.info[5].dt_txt.substring(5,16)}]}]:(this.options={type:"line",title:{text:this.type+" dla "+this.title},yaxis:{title:{text:"℃"}},xaxis:{},colors:["#F44336","#E91E63","#9C27B0"]},this.series=[{data:[{x:this.info[0].dt_txt.substring(5,16),y:this.info[1].main.temp},{y:this.info[1].main.temp,x:this.info[1].dt_txt.substring(5,16)},{y:this.info[2].main.temp,x:this.info[2].dt_txt.substring(5,16)},{y:this.info[3].main.temp,x:this.info[3].dt_txt.substring(5,16)},{y:this.info[4].main.temp,x:this.info[4].dt_txt.substring(5,16)},{y:this.info[5].main.temp,x:this.info[5].dt_txt.substring(5,16)}]}])}},props:["info","title","type"],data:function(){return{information:"",options:{title:{text:"Title",align:"center",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},chart:{sparkline:{enabled:!1},id:"vuechart-example"},yaxis:{title:{text:"Servings"}},xaxis:{categories:[]}},series:[{name:"Vue Chart",data:[]}]}}},V=D,I=(i("9f9e"),i("62ad")),L=i("0fd9"),U=Object(m["a"])(V,q,M,!1,null,null,null),W=U.exports;x()(U,{VCol:I["a"],VRow:L["a"]});var Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-8 col-md-6 col-lg-4 col-xl-3 wrapper-content"},[i("div",{staticClass:"content"},[i("p",{staticClass:"cancel",on:{click:t.cancel}},[t._v("✘")]),i("header",[t._v("Dodaj miasto")]),i("v-text-field",{attrs:{outlined:"",required:"",placeholder:"Miasto"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),i("button",{staticClass:"btn btn-primary",on:{click:t.addCity}},[t._v("Dodaj")])],1)])},K=[],B={emits:["btnAddCity"],data:function(){return{city:""}},methods:{cancel:function(){this.$emit("btnCancelCity")},addCity:function(){this.$emit("btnAddCity",this.city)}}},H=B,G=(i("a092"),Object(m["a"])(H,Z,K,!1,null,"4122a924",null)),J=G.exports;x()(G,{VTextField:A["a"]});var N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cloud",on:{click:t.tapCity}},[i("p",{staticClass:"name-city"},[t._v(t._s(t.city))]),i("img",{attrs:{src:t.getSrc,alt:""}}),i("p",[t._v(t._s(t.desc))]),i("p",[t._v(t._s(Math.floor(t.temp))+"℃")])])},X=[],Y={emits:["tapCity"],props:["city","temp","desc","icon"],computed:{getSrc:function(){return"http://openweathermap.org/img/wn/"+this.icon+"@2x.png"}},methods:{tapCity:function(){this.$emit("tapCity",this.city)}}},Q=Y,tt=(i("42c6"),Object(m["a"])(Q,N,X,!1,null,"47ed7992",null)),et=tt.exports;i("d3b7");function it(t){return nt.apply(this,arguments)}function nt(){return nt=Object(c["a"])(regeneratorRuntime.mark((function t(e){var i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="http:"===location.protocol?"http://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=29a4e59f8b934372bf883d2a4e6c18a2&units=metric":"https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=29a4e59f8b934372bf883d2a4e6c18a2&units=metric",t.next=3,fetch(i);case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)}))),nt.apply(this,arguments)}function at(t){return ot.apply(this,arguments)}function ot(){return ot=Object(c["a"])(regeneratorRuntime.mark((function t(e){var i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="http:"===location.protocol?"http://api.openweathermap.org/data/2.5/forecast?q="+e+"&appid=29a4e59f8b934372bf883d2a4e6c18a2&units=metric":"https://api.openweathermap.org/data/2.5/forecast?q="+e+"&appid=29a4e59f8b934372bf883d2a4e6c18a2&units=metric",t.next=3,fetch(i);case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}var rt=!0,st={inject:["changeTabs"],components:{Alert:y,DialogComponent:J,Cities:et,Chart:W},mounted:function(){this.cities=[],this.getData()},watch:{infoForAlert:function(){var t=this;rt&&(rt=!1,setTimeout((function(){t.infoForAlert=!1,rt=!0}),1e4))}},data:function(){return{cities:[],isClicked:!1,infoOneCity:[],show:!1,whichCityClicked:"",infoForAlert:"",whichAlert:""}},methods:{onSelectCity:function(t){this.infoForAlert="Wykres pokaże szczegóły pogody",this.whichAlert="Information",this.whichCityClicked=t,this.isClicked=!0;var e=this;at(t).then((function(t){0!==t.list[0].dt&&(e.infoOneCity=t.list)}))},showAddCity:function(){this.show=!this.show},addCity:function(t){var e=this,i=this,n=!0;this.cities.forEach((function(e){e.city===t&&(n=!1)})),it(t).then((function(a){200===a.cod&&n?(e.cities=[],u.a.database().ref("cities/"+u.a.auth().currentUser.uid).push(t),e.show=!e.show,i.infoForAlert="Miasto zostało dodane",i.whichAlert="OK"):n?(i.infoForAlert="Nie ma takiego miasta!",i.whichAlert="Error"):(i.infoForAlert="Miasto jest już w bazie!",i.whichAlert="Error")}))},getData:function(){this.cities=[];var t=this;u.a.database().ref("cities/"+u.a.auth().currentUser.uid).on("value",(function(e){e.forEach((function(e){var i,n,a;it(e.val()).then((function(o){i=o.main.temp,n=o.weather[0].description,a=o.weather[0].icon,t.cities.unshift({city:e.val(),temp:i,icon:a,desc:n,id:t.cities.length+1})}))}))}))},logOut:function(){this.logOutFirebase(),this.changeTabs("Login")},logOutFirebase:function(){u.a.auth().signOut().then((function(){console.log("logout")}))}}},ct=st,lt=(i("d2a3"),Object(m["a"])(ct,S,z,!1,null,"25a08a82",null)),ut=lt.exports,ht={components:{Register:j,Login:P,MainPage:ut,Alert:y},watch:{infoForAlert:function(){var t=this;setTimeout((function(){t.infoForAlert=!1}),1e4)}},mounted:function(){this.isUser()},provide:function(){return{changeTabs:this.changeTabs}},data:function(){return{whichComponent:"Login",infoForAlert:"",whichAlert:""}},methods:{changeTabs:function(t){this.whichComponent=t},isUser:function(){var t=this;u.a.auth().onAuthStateChanged((function(e){e?(t.whichComponent="MainPage",t.infoForAlert="Użytkownik zalogowany",t.whichAlert="OK"):(t.infoForAlert="Żaden użytkownik nie jest zalogowany",t.whichAlert="Error")}))}}},ft=ht,dt=(i("880a"),Object(m["a"])(ft,a,o,!1,null,"457e3a17",null)),pt=dt.exports,mt=i("f309");n["a"].use(mt["a"]);var gt=new mt["a"]({}),yt=i("59ca"),wt=i.n(yt);i("f9e3"),i("2dd8");n["a"].config.productionTip=!1;var vt={apiKey:"AIzaSyCIzEP9ZLPObKVI_7qzGPhuLRFuMOG2DBI",authDomain:"weather-app-30687.firebaseapp.com",databaseURL:"https://weather-app-30687.firebaseio.com",projectId:"weather-app-30687",storageBucket:"weather-app-30687.appspot.com",messagingSenderId:"864171147164",appId:"1:864171147164:web:8365a288ebcc2ba647d259"};wt.a.initializeApp(vt),new n["a"]({vuetify:gt,render:function(t){return t(pt)}}).$mount("#app")},6193:function(t,e,i){},6469:function(t,e,i){},"880a":function(t,e,i){"use strict";var n=i("ac7a"),a=i.n(n);a.a},"8a56":function(t,e,i){},"928a":function(t,e,i){"use strict";var n=i("8a56"),a=i.n(n);a.a},"9f9e":function(t,e,i){"use strict";var n=i("a99a"),a=i.n(n);a.a},a092:function(t,e,i){"use strict";var n=i("6469"),a=i.n(n);a.a},a99a:function(t,e,i){},ac7a:function(t,e,i){},b028:function(t,e,i){"use strict";var n=i("f080"),a=i.n(n);a.a},b1fa:function(t,e,i){},d2a3:function(t,e,i){"use strict";var n=i("b1fa"),a=i.n(n);a.a},d475:function(t,e,i){"use strict";var n=i("6193"),a=i.n(n);a.a},f080:function(t,e,i){},ffa8:function(t,e,i){}});
//# sourceMappingURL=app.129fd20b.js.map